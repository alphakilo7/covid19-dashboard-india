
{% extends 'base.html' %}
{% block title %}
	Groots' Coronavirus Dashboard
{% endblock title %}

{% block style %}
@media screen and (min-width: 400px) {
	.tableu {
		border: 1px solid #343a40;
		box-shadow: 0px 0px 10px 2px grey;
		display: inline-block;
	}
}
@media screen and (min-width: 800px) {
	.tableu {
		border: 1px solid #343a40;
		box-shadow: 0 0 10px 2px grey;
		width: 41%;
		display: inline-block;
	}
}
.tableu-head {
	background-color: #343a40;
	color: #ffffff;
	height: 11px;
}
.tableu-head th {
	padding-left: 13px;
	padding-right: 10px;
}
.tableu .states { text-align: left; padding-left: 20px; }
.tableu .nums { text-align: center; }
#statewise-active {
	position: absolute;
	display: inline-block;
	width: 600px;
	height: 300px;
}
{% endblock style %}

{% block tab_home_label %}Informatics{% endblock tab_home_label %}
{% block tab_home %}
<center>
	<h1>INFORMATICS</h1>
</center>
<br><br>
{% autoescape off %}
{{ data_table }}
{% endautoescape %}
<div id="statewise-active" class="mx-5">
	<canvas id="statewise-active-chart"></canvas>
</div>
{% endblock tab_home %}

{% block tab_about_label %}About Initiative{% endblock tab_about_label %}
{% block tab_about %}
<center>
	<h1>ABOUT INITIATIVE</h1>
</center>
{% endblock tab_about %}

{% block script %}
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
<script>
// ChartJS Space
{% autoescape off %}
var states = {{ states }};
var active = {{ active }};
var confirmed = {{ confirmed }};
var deaths = {{ deaths }};
var recovered = {{ recovered }};
{% endautoescape %}
var date = new Date()
var config_ac = {
	type: 'bar',
	data: {
		labels: states,
		datasets: [{
			label: 'Active cases',
			backgroundColor: 'red',
			data: active,
			fill: false,
		}]
	},
	options: {
		responsive: true,
		title: {
			display: true,
			text: 'Statewise Active Cases on ' + date.getDate() + "-" + date.getMonth() + "-" + date.getFullYear()
		},
		scales: {
			yAxes: [{
				ticks: {
					fontSize: 16
				}
			}]
		}
	}
};

window.onload = function() {
	var ctx_ac = document.getElementById('statewise-active-chart').getContext('2d');
	window.myLine = new Chart(ctx_ac, config_ac);
}
</script>
<script>
	$('.tableu').addClass('table-responsive');
</script>
{% endblock script %}
